import{u as M,_ as A,r,e as N}from"./index.esm.65a3fcc5.mjs";import{_ as S}from"./nuxt-icon.04e60077.mjs";import{d as C,g as v,o as b,c as f,a as p,e as s,z as x,p as T,t as $,A as P,u as e,v as j,w as _,B as z,y as E,J as F,f as Y}from"./entry.392649dd.mjs";import{_ as q}from"./_plugin-vue_export-helper.7287ed4b.mjs";import{u as w}from"./fetch.32ba23f0.mjs";const R={class:"mb-4 block"},I={key:0,class:"icon-wrapper pointer-events-none absolute flex items-center pl-3"},O=["for"],D={key:0,class:"ml-1 text-red-600"},G=["id","value","required","placeholder"],J={key:0,class:"mt-3 inline-flex w-full text-left text-red-600"},W=C({__name:"BaseTextarea",props:{modelValue:null,icon:{default:""},placeholder:{default:""},label:{default:""},v:null,type:{default:"text"},required:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(n,{emit:i}){const d=n,h=l=>{i("update:modelValue",l.target.value)},V=v(()=>{var l;return(l=d.v)==null?void 0:l.$errors[0].$message}),c=v(()=>{var l;return(l=d.v)!=null&&l.$error?"input--error":""}),m=v(()=>{var l;return(l=d.v)==null?void 0:l.$error});return(l,y)=>{const o=S;return b(),f("div",R,[p("div",{class:j(["relative",{"input--error":n.v&&n.v.$error}])},[n.icon?(b(),f("div",I,[s(o,{name:"mail",fill:"",class:"flex h-5 w-5 items-center justify-center"})])):x("",!0),n.label?(b(),f("label",{key:1,for:n.label,class:"mb-2 inline-flex text-lg"},[T($(n.label),1),n.required?(b(),f("span",D,"*")):x("",!0)],8,O)):x("",!0),p("textarea",P(l.$attrs,{id:n.label,value:n.modelValue,type:"text",required:n.required,class:[[{"pl-10":n.icon},e(c)],"block w-full rounded-md border border-light-grayish-blue-300 p-3 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500"],placeholder:n.placeholder,onInput:h}),null,16,G)],2),e(m)?(b(),f("span",J,$(e(V)),1)):x("",!0)])}}}),H=q(W,[["__scopeId","data-v-4f5f8c58"]]);function K(n){const i=["Award","Top","Best","Award of the year"],d=v(()=>e(n).map(c=>{const m=i[Math.floor(Math.random()*i.length)];return{...c,subcat:m}})),h=(c,m)=>c.reduce((l,y)=>({...l,[y[m]]:[...l[y[m]]||[],y]}),{});return{groupedCategories:v(()=>{const c=h(d.value,"subcat");return Object.entries(c).map(m=>({subcat:m[0],data:m[1]}))})}}const L={class:"mx-auto flex max-w-xl rounded-lg border border-light-grayish-blue-200 bg-white drop-shadow-xl"},Q=["onSubmit"],X=p("h3",{class:"mb-4"},"Personal info",-1),Z=p("h3",{class:"mt-6 mb-4"},"Company info",-1),ee=p("button",{class:"mt-8 inline-flex items-center justify-center rounded-md bg-royal-blue px-10 py-3 text-center text-base font-medium text-white hover:bg-yale-blue",type:"submit"}," submit ",-1),oe=C({__name:"RegisterForm",async setup(n){let i,d;const{data:h}=([i,d]=_(()=>w(()=>"/event",{pick:["id"]},"$dMNmUN2rrV")),i=await i,d(),i),{data:V}=([i,d]=_(()=>w(()=>"/categories/all","$dY9zzNjBbF")),i=await i,d(),i),c=v(()=>V.value.categories),{groupedCategories:m}=K(c.value),l=z({name:"",street:"",city:"",postcode:"",additional_info:"",email:"",phone:"",company:"",established:"",socials:"",company_profile:"",achievements:"",publications:"",motivation:"",selectedCategories:[]}),o=M({name:{required:r},email:{required:r,email:N},postcode:{required:r},street:{required:r},city:{required:r},company:{required:r},phone:{required:r},established:{required:r},socials:{required:r},company_profile:{required:r},achievements:{required:r},publications:{required:r},motivation:{required:r},selectedCategories:{required:r}},l),U=async()=>{if(!o.value.$validate())return;const t=await $fetch.raw("/nominee/buy",{method:"POST",body:{name:l.name,email:l.email,event_id:h.value.id,company:l.company,phone:l.phone,street:l.street,city:l.city,postcode:l.postcode,additional_info:l.additional_info,established:l.established,socials:l.socials,company_profile:l.company_profile,achievements:l.achievements,publications:l.publications,motivation:l.motivation,categories:l.selectedCategories.map(u=>u.id)}});!t.ok||(window.location.href=t._data.payment_url)};return(B,t)=>{const u=A,g=H,k=F("VueMultiselect");return b(),f("div",L,[p("form",{class:"flex w-full flex-col p-20",onSubmit:E(U,["prevent"])},[X,s(u,{modelValue:e(o).name.$model,"onUpdate:modelValue":t[0]||(t[0]=a=>e(o).name.$model=a),placeholder:"Name and surname",required:"",label:"Full name",v:e(o).name},null,8,["modelValue","v"]),s(u,{modelValue:e(o).email.$model,"onUpdate:modelValue":t[1]||(t[1]=a=>e(o).email.$model=a),placeholder:"Your e-mail",required:"",label:"E-mail",v:e(o).email},null,8,["modelValue","v"]),s(u,{modelValue:e(o).phone.$model,"onUpdate:modelValue":t[2]||(t[2]=a=>e(o).phone.$model=a),placeholder:"Phone number",required:"",label:"Phone",v:e(o).phone},null,8,["modelValue","v"]),s(u,{modelValue:e(o).city.$model,"onUpdate:modelValue":t[3]||(t[3]=a=>e(o).city.$model=a),placeholder:"city",required:"",label:"City",v:e(o).city},null,8,["modelValue","v"]),s(u,{modelValue:e(o).street.$model,"onUpdate:modelValue":t[4]||(t[4]=a=>e(o).street.$model=a),placeholder:"street",required:"",label:"Street",v:e(o).street},null,8,["modelValue","v"]),s(u,{modelValue:e(o).postcode.$model,"onUpdate:modelValue":t[5]||(t[5]=a=>e(o).postcode.$model=a),placeholder:"postcode",required:"",label:"postcode",v:e(o).postcode},null,8,["modelValue","v"]),s(u,{modelValue:l.additional_info,"onUpdate:modelValue":t[6]||(t[6]=a=>l.additional_info=a),placeholder:"additional address information",label:"Additional info"},null,8,["modelValue"]),Z,s(u,{modelValue:e(o).company.$model,"onUpdate:modelValue":t[7]||(t[7]=a=>e(o).company.$model=a),placeholder:"Company name",required:"",label:"Company name",v:e(o).company},null,8,["modelValue","v"]),s(u,{modelValue:e(o).established.$model,"onUpdate:modelValue":t[8]||(t[8]=a=>e(o).established.$model=a),placeholder:"established",required:"",label:"Established",v:e(o).established},null,8,["modelValue","v"]),s(g,{modelValue:e(o).socials.$model,"onUpdate:modelValue":t[9]||(t[9]=a=>e(o).socials.$model=a),placeholder:"social media profiles",required:"",maxlength:"1000",label:"Socials",v:e(o).socials},null,8,["modelValue","v"]),s(g,{modelValue:e(o).company_profile.$model,"onUpdate:modelValue":t[10]||(t[10]=a=>e(o).company_profile.$model=a),placeholder:"what company do",required:"",maxlength:"500",label:"Company profile",v:e(o).company_profile},null,8,["modelValue","v"]),s(g,{modelValue:e(o).achievements.$model,"onUpdate:modelValue":t[11]||(t[11]=a=>e(o).achievements.$model=a),placeholder:"company achievements",required:"",maxlength:"500",label:"Achievements",v:e(o).achievements},null,8,["modelValue","v"]),s(g,{modelValue:e(o).publications.$model,"onUpdate:modelValue":t[12]||(t[12]=a=>e(o).publications.$model=a),placeholder:"Publications",required:"",maxlength:"500",label:"Publications",v:e(o).publications},null,8,["modelValue","v"]),s(g,{modelValue:e(o).publications.$model,"onUpdate:modelValue":t[13]||(t[13]=a=>e(o).publications.$model=a),placeholder:"Motivation",required:"",label:"Motivation",v:e(o).motivation},null,8,["modelValue","v"]),s(k,{modelValue:l.selectedCategories,"onUpdate:modelValue":t[14]||(t[14]=a=>l.selectedCategories=a),"group-values":"data","group-label":"subcat","track-by":"id",label:"name",options:e(m),multiple:"","close-on-select":!1},null,8,["modelValue","options"]),ee],40,Q)])}}}),le={},te={class:"relative overflow-x-hidden bg-white"},ae={class:"container mx-auto px-5 py-24"},ne=Y('<div class="mb-20 flex w-full flex-col text-center"><h1 class="heading mb-16">Register for event</h1><p class="mx-auto mb-10 lg:w-2/3"> A company from the Beauty industry may submit an interest in the contest. </p><p class="mx-auto mb-10 lg:w-2/3"> The registration fee is \xA3150 per category. You can apply to more than one category. The fee for 2 categories is \xA3260 Your data will not be passed on without your consent. </p><p class="mx-auto mb-10 lg:w-2/3"> You make a secure payment through the payment gateway. To nominate a company, please complete the form below </p></div>',1),se=p("div",{class:"z-10 -m-2 flex flex-wrap"},null,-1);function ie(n,i){const d=oe;return b(),f("section",te,[p("div",ae,[ne,s(d),se])])}const pe=q(le,[["render",ie]]);export{pe as default};
